import{_ as C,g as h,u as S,a as E,b as R,r as m,c as p,d as q,e as l,f as B,o as _,h as I,i as e,w as s,j as U,k as D,l as f,m as F,E as M,n as N,p as T,C as $}from"./index-B4PL3RzM.js";const j={class:"layout"},L={__name:"index",setup(P){h(),S();const v=E(),g=R(),u=m(),r=m(!1),a=p({username:"admin",password:"admin123"}),w=p({username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),y=q(async()=>{if(r.value)return;r.value=!0;const d=M.service({text:"加载中..."});try{await u.value.validate(),await v.login(a),N.success({message:"登陆成功",duration:1500}),await T.push({path:g.query.redirect||$.Index_Path})}finally{d.close(),r.value=!1}});function b(){u.value.resetFields()}return(d,t)=>{const i=l("el-input"),n=l("el-form-item"),c=l("el-button"),x=l("el-form"),V=l("el-card"),k=B("loading");return _(),I("div",j,[e(V,null,{default:s(()=>[e(x,{ref_key:"formRef",ref:u,model:a,rules:w},{default:s(()=>[e(n,{prop:"username"},{default:s(()=>[e(i,{placeholder:"账号",clearable:"",modelValue:a.username,"onUpdate:modelValue":t[0]||(t[0]=o=>a.username=o)},null,8,["modelValue"])]),_:1}),e(n,{prop:"password"},{default:s(()=>[e(i,{placeholder:"密码",clearable:"",modelValue:a.password,"onUpdate:modelValue":t[1]||(t[1]=o=>a.password=o),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),e(n,null,{default:s(()=>[U((_(),D(c,{type:"primary",style:{width:"100%"},onClick:t[2]||(t[2]=o=>F(y)())},{default:s(()=>[f("登录")]),_:1})),[[k,r.value]])]),_:1}),e(n,null,{default:s(()=>[e(c,{plain:"",type:"default",style:{width:"100%"},onClick:t[3]||(t[3]=o=>b())},{default:s(()=>[f("重置")]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})])}}},A=C(L,[["__scopeId","data-v-5560db5b"]]);export{A as default};
