import{_ as M,a as Y,q as p,s as C,b as D,r as S,e as h,o as q,h as N,t,v as l,i as f,m as b,w as g,C as v,l as T,x as B,y as P}from"./index-B4PL3RzM.js";import{d as V}from"./default_avatar-Ns1TXhB7.js";const H={"HH:mm:ss":"HH:mm:ss","YYYY-MM-dd HH:mm:ss":"YYYY-MM-dd HH:mm:ss"};function w(s,a){const d=new Date(s),u={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"};let n=new Intl.DateTimeFormat("zh-CN",u).format(d),[c,o,r,i,e,m]=n.match(/\d+/g).map(Number);return o=("0"+o).slice(-2),r=("0"+r).slice(-2),i=("0"+i).slice(-2),e=("0"+e).slice(-2),m=("0"+m).slice(-2),a.replace(/yyyy|MM|dd|HH|mm|ss/g,_=>({yyyy:c,MM:o,dd:r,HH:i,mm:e,ss:m})[_])}const I=s=>(B("data-v-66d494fd"),s=s(),P(),s),F={class:"layout"},L={class:"content"},R={class:"time"},z={class:"username-and-nickname"},A={class:"avatar-and-password"},E=I(()=>t("span",{class:"iconfont icon-denglu"},null,-1)),U=I(()=>t("div",{class:"tip"},"系统锁屏，请输入密码登录",-1)),j={__name:"index",setup(s){const a=Y(),d=p(()=>{var e;return(e=a.userInfo)==null?void 0:e.username}),u=p(()=>{var e;return(e=a.userInfo)==null?void 0:e.nickname}),y=p(()=>{var e;return(e=a.userInfo)==null?void 0:e.avatar}),n=C(),c=D(),o=S(w(Date.now(),H["HH:mm:ss"]));setInterval(()=>{o.value=w(Date.now(),H["HH:mm:ss"])},1e3);async function r(){await a.logout(),c.query.redirect?await n.push({path:v.Login_Path,query:{redirect:c.query.redirect}}):await n.push({path:v.Login_Path})}function i(){var e;n.push({path:((e=c.query)==null?void 0:e.redirect)||v.Index_Path})}return(e,m)=>{const _=h("el-image"),x=h("el-input"),k=h("el-button");return q(),N("div",F,[t("div",L,[t("div",R,l(o.value),1),t("div",z,l(u.value||"")+" "+l(u.value&&d.value?" / ":"")+" "+l(d.value||""),1),t("div",A,[f(_,{class:"avatar",src:y.value||b(V)},null,8,["src"]),f(x,{class:"password"},{default:g(()=>[T("密码")]),_:1}),f(k,{style:{"margin-left":"-0.06rem"},onClick:i},{icon:g(()=>[E]),_:1})]),U,t("div",{class:"logout",onClick:r},"退出重新登录")])])}}},K=M(j,[["__scopeId","data-v-66d494fd"]]);export{K as default};
