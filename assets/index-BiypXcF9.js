import{_ as P,f as y,s as R,r as i,J as T,C as n,g as c,o as r,j as v,w as _,e as B,l as h,d as N,F as D,G as F,K as L,L as M}from"./index-BJT6eF96.js";const V={__name:"index",setup(j){const s=y(),u=R(),a=i([]),t=i(s.path);i();function p(e,l){e.preventDefault(),L.showContextMenu({x:e.x,y:e.y,theme:M().value?"default dark":"default",items:[{label:"关闭",hidden:l===n.Index_Path,onClick:()=>{f(l)}},{label:"关闭右侧",hidden:l===a.value[a.value.length-1].name,onClick:()=>{b(l)}},{label:"关闭其他",onClick:()=>{x(l)}},{label:"关闭所有",onClick:()=>{m()}}]})}function b(e){if(e===n.Index_Path){m();return}for(let l=0;l<a.value.length;l++)if(a.value[l].name===e){a.value=a.value.slice(0,l+1);break}for(let l of a.value)if(l.name===t.value)return;t.value=a.value[a.value.length-1].name,u.push(t.value)}function x(e){a.value=a.value.filter(l=>l.name===e),t.value=e,u.push(e)}function m(){a.value=[],t.value=n.Index_Path,u.push(n.Index_Path)}function f(e){a.value=a.value.filter(l=>l.name!==e),e===t.value&&(a.value&&a.value.length>0?(t.value=a.value[a.value.length-1].name,u.push(a.value[a.value.length-1].name)):(t.value=n.Index_Path,u.push(n.Index_Path)))}function k(e){e.paneName!==s.path&&u.push(e.paneName)}T(s,e=>{if(e.path!==n.Index_Path){t.value=e.path;for(let l of a.value)if(l.name===e.path)return;a.value.push({title:e.meta.title,name:e.path})}},{immediate:!0});function C(e){p(e,e.target.id.replace("tab-",""))}return(e,l)=>{const d=c("el-tab-pane"),g=c("el-tabs"),I=c("el-scrollbar");return r(),v(I,null,{default:_(()=>[B(g,{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=o=>t.value=o),type:"card",onTabRemove:f,onTabClick:k,onContextmenu:C},{default:_(()=>[(r(),v(d,{closable:!1,key:h(n).Index_Path,label:"首页",name:h(n).Index_Path},null,8,["name"])),(r(!0),N(D,null,F(a.value,o=>(r(),v(d,{closable:"",key:o.name,label:o.title,name:o.name},null,8,["label","name"]))),128))]),_:1},8,["modelValue"])]),_:1})}}},A=P(V,[["__scopeId","data-v-976cebf1"]]);export{A as default};
