import{_ as h,u as C,a as S,r as m,b as p,c as E,d as R,e,w as s,f as q,g as l,h as B,o as _,i as U,j as D,k as f,l as F,E as I,m as M,n as N,C as T}from"./index-DQ2b3T6J.js";const $={class:"layout"},j={__name:"index",setup(L){C();const v=S(),g=q(),u=m(),r=m(!1),a=p({username:"admin",password:"admin123"}),w=p({username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),y=E(async()=>{if(r.value)return;r.value=!0;const d=I.service({text:"加载中..."});try{await u.value.validate(),await v.login(a),M.success({message:"登陆成功",duration:1500}),await N.push({path:g.query.redirect||T.Index_Path})}finally{d.close(),r.value=!1}});function x(){u.value.resetFields()}return(d,t)=>{const i=l("el-input"),n=l("el-form-item"),c=l("el-button"),V=l("el-form"),b=l("el-card"),k=B("loading");return _(),R("div",$,[e(b,null,{default:s(()=>[e(V,{ref_key:"formRef",ref:u,model:a,rules:w},{default:s(()=>[e(n,{prop:"username"},{default:s(()=>[e(i,{placeholder:"账号",clearable:"",modelValue:a.username,"onUpdate:modelValue":t[0]||(t[0]=o=>a.username=o)},null,8,["modelValue"])]),_:1}),e(n,{prop:"password"},{default:s(()=>[e(i,{placeholder:"密码",clearable:"",modelValue:a.password,"onUpdate:modelValue":t[1]||(t[1]=o=>a.password=o),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),e(n,null,{default:s(()=>[U((_(),D(c,{type:"primary",style:{width:"100%"},onClick:t[2]||(t[2]=o=>F(y)())},{default:s(()=>[f("登录")]),_:1})),[[k,r.value]])]),_:1}),e(n,null,{default:s(()=>[e(c,{plain:"",type:"default",style:{width:"100%"},onClick:t[3]||(t[3]=o=>x())},{default:s(()=>[f("重置")]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})])}}},z=h(j,[["__scopeId","data-v-a8ed6080"]]);export{z as default};
