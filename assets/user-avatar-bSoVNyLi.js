import{M as f,_ as i,a as d,g as n,o,j as r,w as u,q as p,l as s,k as v,t as m,v as I,x as h}from"./index-BJT6eF96.js";function k(a){return f({url:"/profile",method:"put",data:a})}const x=a=>(I("data-v-3bef6198"),a=a(),h(),a),S={class:"p"},w=x(()=>p("div",{class:"mask"},null,-1)),y={__name:"user-avatar",setup(a){const e=d();function l(t){console.log(t),e.setUserInfo({avatar:t}),k(e.userInfo)}return(t,U)=>{const c=n("el-avatar"),_=n("wuyu-cropper");return o(),r(_,{src:s(e).userInfo.avatar,onResult:l,action:"/file/upload"},{default:u(()=>[p("div",S,[s(e).userInfo.avatar?(o(),r(c,{key:0,class:"avatar",src:s(e).userInfo.avatar,size:100},null,8,["src"])):(o(),r(c,{key:1,class:"avatar",size:100},{default:u(()=>[v(m(s(e).userInfo.nickname||s(e).userInfo.username),1)]),_:1})),w])]),_:1},8,["src"])}}},q=i(y,[["__scopeId","data-v-3bef6198"]]);export{q as default};
